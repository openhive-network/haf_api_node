services:
  swagger:
    image: swaggerapi/swagger-ui
    profiles:
      - servers
    environment:
      URLS: >-
        [{url: "https://${PUBLIC_HOSTNAME}/hafbe/", name: "HAF Block Explorer"},
         {url: "https://${PUBLIC_HOSTNAME}/hafbe_bal/", name: "Balance Tracker"},
         {url: "https://${PUBLIC_HOSTNAME}/hafbe_rep/", name: "Reputation Tracker"},
         {url: "https://${PUBLIC_HOSTNAME}/hafah/", name: "HAfAH"},
         {url: "https://${PUBLIC_HOSTNAME}/hafah-rest/", name: "HAfAH-REST"}]
    networks:
      haf-network:
    #healthcheck:
    #  test: ["CMD-SHELL","curl -f localhost:8080"]
    depends_on:
      balance-tracker-postgrest:
        condition: service_started
      reputation-tracker-postgrest:
        condition: service_started
      hafah-postgrest:
        condition: service_started
      hafah-rest-postgrest:
        condition: service_started
      block-explorer-postgrest:
        condition: service_started
